h1. Active Record и ссылочная целостность

<p>Способ Active Record требует, чтобы логика была в моделях, а не в базе данных. По большому счету, функции, такие как триггеры или внешние ключи как ограничители ссылочной целостности, которые переносят часть логики обратно в базу данных, не используются активно.</p>
<p>Валидации, такие как <tt>validates_uniqueness_of</tt>, это один из способов, которым Ваши модели могут соблюдать ссылочную целостность. Опция <tt>:dependent</tt> в связях позволяет моделям автоматически уничтожать дочерние объекты при уничтожении родителя. Подобно всему, что работает на уровне приложения, это не может гарантировать ссылочной целостности, таким образом кто-то может добавить еще и внешние ключи как ограничители ссылочной целостности.</p>
<p>Хотя Active Record не предоставляет каких-либо инструментов для работы напрямую с этими функциями, можно использовать метод <tt>execute</tt> для запуска произвольного <span class="caps">SQL</span>. Также имеются плагины, такие как <a href="http://github.com/harukizaemon/redhillonrails/tree/master/foreign_key_migrations/">foreign_key_migrations</a>, которые добавляют поддержку внешних ключей в Active Record (включая поддержку выгрузки внешних ключей в <tt>db/schema.rb</tt>).</p>