# Отображение ошибок валидации во вьюхах

Как только вы создали модель и добавили валидации, если эта модель создается с помощью веб-формы, то вы, возможно хотите отображать сообщение об ошибке, когда одна из валидаций проваливается.

Поскольку каждое приложение обрабатывает подобные вещи по-разному, в Rails нет какого-то хелпера вьюхи для непосредственного создания этих сообщений. Однако, благодаря богатому набору методов, Rails в целом дает способ взаимодействия с валидациями, очень просто создать свой собственный. Кроме того, при генерации скаффолда, Rails поместит некоторый ERB into в `_form.html.erb`, созданный для отображения полного списка ошибок этой модели.

Допустим, у нас имеется модель, сохраненная в переменную экземпляра `@post`, это выглядит следующим образом:

```erb
<% if @post.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(@post.errors.count, "error") %> prohibited this post from being saved:</h2>
    <ul>
    <% @post.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
<% end %>
```

Более того, при использовании для создания форм хелперов форм Rails, когда у поля происходит ошибка валидации, оно создает дополнительный `<div>` вокруг содержимого.

<div class="field_with_errors">
 <input id="post_title" name="post[title]" size="30" type="text" value="">
</div>

Этот div можно стилизовать по желанию. К примеру, скаффолд по умолчанию добавляет это правило CSS:

```
.field_with_errors {
  padding: 2px;
  background-color: red;
  display: table;
}
```

Это означает, что любое поле с ошибкой обведено красной рамкой толщиной 2 пикселя.
